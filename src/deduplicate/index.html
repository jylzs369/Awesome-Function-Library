<template id="duplicate">
    <h1>字符串去重</h1>
    <section class="function">
        <div>原始数据：</div>
        <h2>方法一：</h2>
        <pre>
            <button id="duplicate1">尝试</button>
            <code>
            const shuffle = array => {
                let count = array.length - 1
                while (count) {
                    let index = Math.floor(Math.random() * (count + 1))
                    ;[array[index], array[count]] = [array[count], array[index]]
                    count--
                }
                return array
            }
            </code>
        </pre>
    </section>
    <section class="display">
        <h3>方法一：</h3>
        <p></p>
        <h3>方法二：</h3>
        <p></p>
        <h3>方法三：</h3>
        <p></p>
    </section>
</template>
      
<script>
    // 数组数据两两交换
    const duplicate1 = array => {
        let count = array.length - 1
        while (count) {
            let index = Math.floor(Math.random() * (count + 1))
            ;[array[index], array[count]] = [array[count], array[index]]
            count--
        }
        return array
    }

    window.onload = function () {
        var originalArray = ['红桃J', '黑桃A', '方块8', '梅花6', '黑桃K', '红桃A', '梅花9', '梅花2', '红桃K', '黑桃5']
        const paras = document.querySelectorAll('p')
        document.querySelector('.function').addEventListener('click', (e) => {
            let target = e.target
            if (e.target.tagName === 'BUTTON') {
                let index = e.target.id.slice(-1)
                paras[index - 1].innerHTML = eval(`duplicate${index}`)(originalArray)
            }
        }, false)
    }
</script>

<script>
// 定义<function-shuffle>
class HTMLFunctionDeduplicateElement extends HTMLElement {
    constructor() {
    super()
    this.innerHTML = document.currentScript.ownerDocument.querySelector('#duplicate').innerHTML;
    }
};
// 注册
customElements.define('function-duplicate', HTMLFunctionDeduplicateElement);
</script>